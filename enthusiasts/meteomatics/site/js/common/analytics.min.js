window.metoffice=window.metoffice||{},window.metoffice.analytics=function(){var e,n,i,t=function(e,n,i){var t=[];return t.push(n),t.push(e),null!==i&&t.push(i),t.join(" - ")},o=function(e,n){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,layerDetails:n})};return{init:function(){window.metoffice.eventBus.subscribeToEvent(window.metoffice.enthusiast.eventDefinitions.TIME_DIMENSION_CHANGED,function(){e=window.metoffice.enthusiast.layerPicker.getCurrentLayer(),n=window.metoffice.enthusiast.layerPicker.getCurrentModel(),i=window.metoffice.enthusiast.layerPicker.getCurrentAltitude();var a=t(n.label,e.label,i);o("layerChange",a)}),window.metoffice.eventBus.subscribeToEvent(window.metoffice.enthusiast.eventDefinitions.MAP_POPUP_SHOWN,function(){var a=t(n.label,e.label,i);o("mapPopupShown",a)})}}}(),window.addEventListener("DOMContentLoaded",window.metoffice.analytics.init);