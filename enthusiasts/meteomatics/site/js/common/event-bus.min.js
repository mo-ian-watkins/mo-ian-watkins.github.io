window.metoffice=window.metoffice||{},window.metoffice.eventBus={topics:{},subscribeToEvent:function(t,i){this.topics[t]||(this.topics[t]=[]),i.topicId=Math.floor(1e8*Math.random()),this.topics[t].push(i)},unsubscribeFromEvent:function(t,i){if(!this.topics[t])return-1;for(var o=0;o<this.topics[t].length;o++)if(this.topics[t][o].topicId===i)return this.topics[t].splice(o,1),o;return-1},notifyEventSubscribers:function(t,i){!this.topics[t]||this.topics[t].length<1||this.topics[t].forEach(function(t){t(i||{})})}};