"use strict";window.metoffice=window.metoffice||{},window.metoffice.enthusiast=window.metoffice.enthusiast||{},window.metoffice.enthusiast.explainer=function(){var e,t,n,i=function(){var e=window.metoffice.uiFactory.createStandardButtonElement("explainer-button","","button--black",!1),t=document.createElement("span");return t.setAttribute("class","explainer-icon"),t.textContent="i",e.appendChild(t),e.addEventListener("click",a),e},o=function(e,t,n,i){var o=document.createElement("div"),a=document.createElement("div"),r=document.createElement("h2"),c=document.createElement("div"),s=document.createElement("button"),p=document.createElement("div"),u=document.createElement("div"),l=document.createElement("div"),m=document.createElement("a"),f=document.createElement("a"),w=window.metoffice.uiFactory.createStandardButtonElement("explainer-read-more-button","Open information page","button--teal",!0),E=document.createElement("span");return r.textContent="About this weather map",r.setAttribute("class","popup__heading"),E.setAttribute("class","icon icon--close"),s.setAttribute("class","button"),s.appendChild(E),s.addEventListener("click",d),a.setAttribute("class","popup__header"),a.appendChild(r),a.appendChild(s),m.textContent="Send us your feedback",m.setAttribute("href",i),m.setAttribute("target","_blank"),m.setAttribute("rel","noopener"),f.setAttribute("href",n),f.appendChild(w),p.textContent=e,u.setAttribute("class","popup__center"),u.appendChild(f),l.textContent=t,l.appendChild(m),c.setAttribute("class","popup__main"),c.appendChild(p),c.appendChild(u),c.appendChild(l),o.setAttribute("class","popup popup--explainer hidden"),o.appendChild(a),o.appendChild(c),o},a=function(){t.classList.remove("hidden"),window.metoffice.eventBus.notifyEventSubscribers(window.metoffice.enthusiast.eventDefinitions.EXPLAINER_BUTTON_CLICKED)},d=function(){void 0!==t&&t.classList.add("hidden")};return{init:function(){window.metoffice.eventBus.subscribeToEvent(window.metoffice.enthusiast.eventDefinitions.CONFIGURATION_LOADED,function(e){n=e}),window.metoffice.eventBus.subscribeToEvent(window.metoffice.enthusiast.eventDefinitions.MAP_CLICKED,d),window.metoffice.eventBus.subscribeToEvent(window.metoffice.enthusiast.eventDefinitions.SHARE_BUTTON_CLICKED,d),window.metoffice.eventBus.subscribeToEvent(window.metoffice.enthusiast.eventDefinitions.EXPLAINER_DETAILS_READY,function(a){var d="",r="",c="",s="",p=i();void 0!==n.map.explainerReadMoreLink&&(d=n.map.explainerReadMoreLink),void 0!==n.map.explainerFeedbackLink&&(r=n.map.explainerFeedbackLink),void 0!==n.map.upperExplainerText&&(c=n.map.upperExplainerText),void 0!==n.map.lowerExplainerText&&(s=n.map.lowerExplainerText),t=o(c,s,d,r),(e=a.control).getContainer().appendChild(p),e.getContainer().appendChild(t)})}}}(),window.addEventListener("DOMContentLoaded",window.metoffice.enthusiast.explainer.init);